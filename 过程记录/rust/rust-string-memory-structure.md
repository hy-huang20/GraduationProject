# rust String 内存结构

``String`` 对象数据一部分存储在``栈``上（元数据），一部分存储在``堆``上

```
+--------+--------+--------+
| 指针   | 长度   | 容量   |  （存储在栈上）
+--------+--------+--------+
    |
    v
  堆内存（字节数组，UTF-8 编码）
```

``元数据``字段：

- **指针（pointer）**：指向堆上分配的字节数组（``u8`` 数组）的指针
- **长度（length）**：当前字符串的实际长度（以**字节**为单位，UTF-8 编码的字符可能占用 1~4 个字节）
- **容量（capacity）**：堆上分配的字节数组的总容量（即当前分配的内存可容纳的最大字节数，无需重新分配）