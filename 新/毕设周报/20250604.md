# 综合论文训练

综合论文训练总体的计划安排 [实时更新中](#20250611)

## 20250618

### 进度

- 可选：[rCore 文档](https://github.com/hy-huang20/GraduationProject/blob/main/%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95/rCore/readme.md)
    - ch4, ch5 添加详细内容
- 学习 Write an OS in Rust [async-await](https://os.phil-opp.com/async-await/)
    - [文档总结](https://github.com/hy-huang20/GraduationProject/blob/main/%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95/rust/rust%E5%BC%82%E6%AD%A5/async-await/readme.md) 进行中

### 后续

- 可选：rCore 文档
    - ch6 比较简略
- 学完 async-await 并总结文档
- 有时间的话开始看 [embassy](https://github.com/embassy-rs/embassy/tree/main/embassy-executor)

## 20250611

### 进度

- 20250610 已和老师约时间演示实验完成情况
- 将写 rCore 的过程进行总结，已经形成[初版文档](https://github.com/hy-huang20/GraduationProject/blob/main/%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95/rCore/%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95.md)

### 后续

- 毕设后续计划，明确任务/步骤以及前后任务之间的依赖关系
    - 复现：QEMU 串口驱动
        - 学习 rust 异步
            - Write an OS in Rust
                - [async-await](https://os.phil-opp.com/async-await/)  
            - [Embassy](https://github.com/embassy-rs/embassy/tree/main/embassy-executor)
                - 具体的细节需要看林晨的文档中的 20240416 的纪要中的描述
                - [embassy 记录](https://github.com/BITcyman/Rust-os-learning/blob/main/embassy/embassy.md)
                - [embassy into rCore 记录](https://github.com/BITcyman/Rust-os-learning/blob/main/embassy/embassy-into-rcore.md)
        - rCore-N 异步串口驱动 
            - 已经可以跑通 [记录](https://github.com/hy-huang20/GraduationProject/blob/main/%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95/%E5%A4%8D%E7%8E%B0%E8%BF%87%E7%A8%8B/rCore-N%5BQEMU%5D/readme.md)
            - 原理学习 [参考](https://github.com/BITcyman/Rust-os-learning/blob/main/rCore-N.md)
        - 学习已有的[异步串口驱动 crate](https://github.com/BITcyman/async-uart-driver/commit/3d1265d17e6b2d6e1ce8df351f6e6d19d04136ce)
        - QEMU 上跑通异步串口驱动在 AlienOS 中的使用
    - 实现：串口驱动上板子
        - 学习星光二板子上已有的 [PAC](https://codeberg.org/weathered-steel/jh71xx-pac) 和 [HAL](https://codeberg.org/weathered-steel/jh71xx-hal)
            - [参考](https://github.com/BITcyman/Rust-os-learning/blob/main/Vision_Five2.md)
        - 已有的工作
            - QEMU 上，异步串口驱动在 AlienOS 中使用 [最新记录](https://github.com/BITcyman/Rust-os-learning/blob/main/driver/runtime.md)
                >将多创建的基址在 0x10005000 上的串口绑定到一个终端上，目前能够看到从串口中输出的 ABC 字符串，但在终端中向串口中输入字符时，唤醒 串口读协程 出错。目前在找bug。又遇到多个bug。
            - **未实现**板子上的异步串口驱动
    - 实现：块设备驱动
        - QEMU，开发板
        - 了解不足，还需学习调研
            - 从老师那里了解到已经有能跑的实现了，只需要将已有的改成异步的
    - 最终目标
        - 星光二开发板上，串口/块设备异步驱动，在 AlienOS 中使用

## 20250604

### 进度

完成了 [rCore-2025S 实验](https://github.com/hy-huang20/rCore-2025S)

- 完成了 rCore-2025S 指导书 ch3-ch8 的编程练习，可以通过测例
- 偶尔会出现 rustup toolchain 的报错：st_name (xxx) is past the end of string table of size xxxx
- 上述报错和代码实现无关

### 后续

- 复盘，将写 rCore 的过程总结成文档
- 约向老师检查 rCore
- Rust 异步驱动设计与实现
    - 复现：QEMU 串口驱动（6月）
        - 学习并复现[林晨学长的工作](https://github.com/BITcyman/Rust-os-learning)
    - 实现：开发板串口驱动
    - 实现：QEMU 块设备驱动
    - 实现：开发板块设备驱动